/* styles.css — 优化样式表
   改进点：
   - 使用 CSS 变量（主题与间距）
   - 改用 Grid 布局以改善响应式行为
   - 可访问性：:focus-visible、可缩减动画
   - 更好的按钮交互与视觉层次
*/

:root {
  --bg: #ffffff;
  --surface: #fafafa;
  --text: #222222;
  --muted: #666666;
  --primary-300: #ff9a9a;
  --primary-500: #ff6b6b;
  --radius: 8px;
  --gap: 12px;
  --card-shadow: 0 1px 6px rgba(16, 24, 40, 0.06);
  --max-width: 1100px;
  --transition: 180ms cubic-bezier(.2, .8, .2, 1);
}

/* 基本重置 */
* {
  box-sizing: border-box;
  margin: 5px;
  padding: 0px;
}

html,
body {
  height: 100%;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans SC";
  line-height: 1.45;
  color: var(--text);
  background: var(--bg)
}

img {
  max-width: 100%;
  height: auto;
  display: block
}

/* 可访问性/用户偏好 */
@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important
  }
}

/* 页面布局 */
header,
footer {
  padding: 12px 16px;
  background: var(--bg)
}

main {
  padding: 16px;
  max-width: var(--max-width);
  margin: 0 auto
}

/* 页面可见性控制（替代内联 style） */
.page {
  display: block
}

.is-hidden {
  display: none
}

/* 门店容器 */
main>div {
  background: var(--bg);
  border-radius: var(--radius);
  padding: 14px;
  margin-bottom: 16px;
  box-shadow: var(--card-shadow)
}

main>div>a {
  display: inline-block;
  font-weight: 600;
  margin-bottom: 8px;
  color: var(--text)
}

/* 列表布局：使用 Grid，使卡片在宽屏时自动布局，窄屏时一列 */
ul {
  list-style: none;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: var(--gap)
}

li {
  background: var(--surface);
  border-radius: var(--radius);
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: stretch
}

/* 图片：保持覆盖 (cover) 并固定纵横比以避免布局跳动 */
li img {
  border-radius: 6px;
  object-fit: cover;
  width: 100%;
  height: 170px
}

/* 文本 */
/* 文本：默认统一风格，具体项单独调整 */
li p {
  font-size: 14px;
  color: var(--text);
  margin: 0
}

/* 甜品名称、介绍、库存的字体层级调整 */
/* li 的 p 元素顺序：1=名称, 2=介绍, 3=库存 */
li p:nth-of-type(1) {
  /* 名称：更醒目 */
  font-size: 16px;
  font-weight: 700;
  color: var(--text);
  line-height: 1.2;
}

li p:nth-of-type(2) {
  /* 介绍：次要信息，较小且更柔和 */
  font-size: 13px;
  color: var(--muted);
  line-height: 1.4;
}

li p:nth-of-type(3) {
  /* 库存：更小更不显眼 */
  font-size: 12px;
  color: var(--muted);
}

/* 默认链接样式（保留可交互性，但非装饰） */
a {
  color: inherit;
  text-decoration: none
}

/* 焦点可见（可访问性） */
:focus {
  outline: none
}

:focus-visible {
  outline: 3px solid rgba(255, 107, 107, 0.18);
  outline-offset: 3px;
  border-radius: 4px
}

/* 加购按钮（.addToCart） —— 更明显的按钮样式、hover/focus 动画 */
.addToCart {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: linear-gradient(180deg, var(--primary-300), var(--primary-500));
  color: #fff;
  padding: 8px 12px;
  border-radius: 6px;
  font-weight: 700;
  font-size: 14px;
  border: 0;
  cursor: pointer;
  transition: transform var(--transition), box-shadow var(--transition)
}

.addToCart:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(255, 107, 107, 0.12)
}

.addToCart:active {
  transform: translateY(0)
}

.addToCart[disabled],
.addToCart.disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
  box-shadow: none
}

/* 库存/状态信息容器（.faShow） */
.faShow {
  display: flex;
  gap: 8px;
  align-items: center;
  font-size: 13px;
  color: var(--muted);
  flex-wrap: wrap
}

.faShow a {
  background: transparent;
  padding: 4px 6px;
  border-radius: 4px;
  color: var(--muted)
}

/* 小屏幕微调 */
@media (max-width:640px) {
  main {
    padding: 12px
  }

  li img {
    height: 180px
  }

  .addToCart {
    width: auto
  }
}

/* 价格与加购：左右分开对齐 */
.priceRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px
}

.priceRow .separator {
  color: var(--muted);
  margin: 0 8px
}

.priceRow .addToCart {
  flex: 0 0 auto
}

@media (max-width:420px) {

  /* 在非常窄的屏幕上，让价格与按钮换行，按钮靠右 */
  .priceRow {
    display: flex;
    flex-wrap: wrap
  }

  .priceRow .price {
    order: 1
  }

  .priceRow .addToCart {
    order: 2;
    margin-left: auto;
    margin-top: 6px
  }

  .priceRow .separator {
    display: none
  }
}

@media (max-width:360px) {

  /* 非常小屏：微调字体，避免换行溢出 */
  li p:nth-of-type(1) {
    font-size: 15px
  }

  li p:nth-of-type(2) {
    font-size: 12px
  }

  li p:nth-of-type(3) {
    font-size: 11px
  }
}

/* 备用：在需要时可扩展主题变量与组件细化 */

/* Footer 购物车条样式 */
.footerCart {
  position: sticky;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.98), var(--bg));
  box-shadow: 0 -6px 18px rgba(16, 24, 40, 0.06);
  padding: 10px 0;
  z-index: 30
}

.footerCartContent {
  max-width: var(--max-width);
  margin: 0 auto;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 6px 16px
}

.cartSummary {
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--text);
  font-weight: 700
}

.cartTotalLabel {
  font-size: 13px;
  color: var(--muted);
  font-weight: 500
}

.cartTotal {
  font-size: 16px;
  color: var(--text)
}

.checkoutBtn {
  background: linear-gradient(180deg, var(--primary-300), var(--primary-500));
  color: #fff;
  border: 0;
  padding: 10px 14px;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  transition: transform var(--transition), box-shadow var(--transition)
}

.checkoutBtn:focus-visible {
  outline: 3px solid rgba(255, 107, 107, 0.18);
  outline-offset: 3px
}

.checkoutBtn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(255, 107, 107, 0.12)
}

@media (max-width:640px) {
  .footerCartContent {
    padding: 8px 12px;
    gap: 8px
  }

  .cartTotal {
    font-size: 15px
  }

  .checkoutBtn {
    padding: 8px 12px
  }
}

@media (max-width:420px) {
  .footerCartContent {
    flex-wrap: wrap;
    gap: 6px
  }

  .cartSummary {
    width: 100%;
    order: 2;
    justify-content: space-between
  }

  .checkoutBtn {
    width: 140px;
    margin-left: auto
  }
}

/* Footer 购物车条内的商品列表样式（紧凑、可读、响应式） */
.footerCartContent>div {
  display: flex;
  gap: 10px;
  align-items: flex-start
}


/* 在较小屏幕里，把商品列表压缩为竖列，保持结算栏可见 */
@media (max-width:640px) {
  .footerCartContent {
    flex-direction: column;
    align-items: stretch
  }

  .footerCartContent>div {
    order: 1;
    display: flex;
    flex-direction: column;
    gap: 8px
  }
}

/* 购物车页面专用样式（卡片化、响应式） */
.cartPageContainer {
  padding: 12px
}

.cartStoreList {
  display: flex;
  flex-direction: column;
  gap: 14px
}

.cartStore {
  border: 1px solid rgba(0, 0, 0, 0.04);
  padding: 12px;
  border-radius: 8px;
  background: var(--bg)
}

.cartStore legend {
  font-weight: 700;
  margin-bottom: 8px
}

.cartStore ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 10px
}

.cartItemInfo {
  display: flex;
  gap: 12px;
  align-items: center;
  padding: 10px;
  border-radius: 8px;
  background: var(--surface);
  box-shadow: var(--card-shadow);
  flex-direction: row;
}

.cartItemImg {
  width: 80px;
  height: 64px;
  object-fit: cover;
  border-radius: 6px;
  flex: 0 0 80px
}

.cartItemTitle {
  font-weight: 700;
  color: var(--text);
  flex: 1
}

.cartQtyInput {
  width: 80px;
  padding: 6px;
  border-radius: 6px;
  border: 1px solid rgba(0, 0, 0, 0.08);
  background: #fff
}

.cartItemInfo a {
  color: inherit
}

.cartItemPrice {
  font-weight: 800;
  color: var(--text);
  margin-left: auto
}

@media (max-width:720px) {
  .cartItemInfo {
    flex-direction: row;
    align-items: center
  }

  .cartItemImg {
    width: 72px;
    height: 56px
  }

  .cartQtyInput {
    width: 64px
  }
}

@media (max-width:420px) {
  .footerCartContent>div {
    order: 1;
    width: 100%
  }

  /* footerCart 内的 fieldset/input 规则已移除（当前 HTML 未使用） */
}

/* 付款页面优化样式 */
#PaymentPage {
  flex-direction: column;
  align-items: center;
  gap: var(--gap);
  padding: 20px;
  background: var(--surface);
  border-radius: var(--radius);
  box-shadow: var(--card-shadow);
}

#PaymentPage img {
  max-width: 300px;
  border-radius: var(--radius);
  box-shadow: var(--card-shadow);
}

#PaymentPage fieldset {
  border: 1px solid var(--muted);
  border-radius: var(--radius);
  padding: 10px;
  width: 100%;
  max-width: 400px;
}

#PaymentPage legend {
  font-weight: bold;
  color: var(--text);
}

#PaymentPage label {
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
  color: var(--text);
}

#PaymentPage input[type="number"] {
  width: 100%;
  padding: 8px;
  border: 1px solid var(--muted);
  border-radius: var(--radius);
  font-size: 14px;
}

#PaymentPage .formActions {
  display: flex;
  justify-content: space-between;
  gap: var(--gap);
  width: 100%;
  max-width: 400px;
}

#PaymentPage .checkoutBtn {
  background: var(--primary-500);
  color: #fff;
  border: none;
  border-radius: var(--radius);
  padding: 10px 20px;
  font-size: 14px;
  cursor: pointer;
  transition: background var(--transition);
}

#PaymentPage .checkoutBtn:hover {
  background: var(--primary-300);
}

/* 清理说明：移除了遗留的购物车专用面板和摘要样式（.cartGrid/.summaryCard 等），
   这些样式在当前 HTML 结构中未被使用。保留了 footerCart、商品卡片（li）等通用样式。
*/
